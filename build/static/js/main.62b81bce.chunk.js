(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{49:function(n,e,t){},50:function(n,e,t){"use strict";t.r(e);var a,r=t(0),i=t(8),o=t.n(i),c=t(5),s=t(6),l=t(11),p=(t(24),t(12)),g=(t(25),t(16)),d=t.n(g),u=t(3),m=t(4),b=m.a.li(a||(a=Object(u.a)(["\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n\n    img {\n        width: 100%;\n        height: 260px;\n        object-fit: cover;\n        transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n        &:hover {\n            transform: scale(1.03);\n            cursor: zoom-in;\n            }\n    }\n"]))),x=t(1),f=function(n){var e=n.imgUrl,t=n.imgAlt,a=n.imgId,r=n.onClick;return Object(x.jsx)(b,{children:Object(x.jsx)("img",{src:e,alt:t,id:a,onClick:r,className:"ImageGalleryItem-image"},a)})};var h,j,O,y,v,w={fetchGallery:function(n,e){return fetch("https://pixabay.com/api/?q=".concat(n,"&page=").concat(e,"&key=").concat("23294287-f28ad0716a186f6195177ba0b","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Cannot find ".concat(n," image")))})).then((function(e){if(e.hits.length)return e;throw new Error("Cannot find ".concat(n," image"))}))}},k=m.a.div(h||(h=Object(u.a)(["\n    button {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        margin-top: 30px;\n        margin-bottom: 30px;\n        margin-left: auto;\n        margin-right: auto;\n        padding: 6px 14px;\n        height: 40px;\n        width: 120px;\n        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;\n        border-radius: 6px;\n        color: #fff;\n        background: #012ce7;\n        border: none;\n        box-shadow: 0px 0.5px 1px rgba(0, 0, 0, 0.1);\n\n        &:focus {\n            box-shadow: 0px 0.5px 1px rgba(0, 0, 0, 0.1), 0px 0px 0px 3.5px rgba(58, 108, 217, 0.5);\n            outline: 0;\n        }\n    }\n"]))),S=function(n){var e=n.onClick;return Object(x.jsx)(k,{children:Object(x.jsx)("button",{type:"submit",onClick:e,children:"Load more"})})},C=m.a.div(j||(j=Object(u.a)(["\n  .Overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #000000b2;\n    z-index: 1200;\n    overflow: auto;\n    opacity: 1;\n  }\n\n  .Modal {\n    position: relative;\n    background-color: #3d3d3d;\n    overflow: hidden;\n  }\n\n  img{\n      width: 900px;\n  }\n"]))),M=function(n){var e=n.toggleModal,t=n.image;return Object(x.jsx)(C,{children:Object(x.jsx)("div",{className:"Overlay",onClick:function(n){n.target===n.currentTarget&&(document.querySelector(".Overlay").style.opacity="0",e())},children:Object(x.jsx)("div",{className:"Modal",children:Object(x.jsx)("img",{src:t.largeImageURL,alt:t.tags},t.id)})})})},T={GalleryContainer:m.a.div(O||(O=Object(u.a)(["\n    .ImageGallery {\n        display: grid;\n        max-width: calc(100vw - 48px);\n        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n        grid-gap: 16px;\n        margin-top: 0;\n        margin-bottom: 0;\n        padding: 0;\n        list-style: none;\n        margin-left: auto;\n        margin-right: auto;\n    }\n"]))),DivContainer:m.a.div(y||(y=Object(u.a)(["\n    display: flex;\n    justify-content: center;\n    font-size: 22px;\n    font-weight: 400;\n"])))},F={images:[],error:null,status:"idle",page:1,isModalOpen:!1,targetImg:{}},I=function(n){var e=n.image,t=Object(r.useState)(F),a=Object(s.a)(t,2),i=a[0],o=a[1],l=i.images,g=i.error,u=i.status,m=i.page,b=i.isModalOpen,h=i.targetImg;Object(r.useEffect)((function(){e&&(o({status:"pending",page:1}),w.fetchGallery(e,m).then((function(n){return o((function(e){return{images:Object(p.a)(n.hits),status:"resolved",page:e.page+1}}))})).catch((function(n){return o({error:n,status:"rejected"})})))}),[e]),Object(r.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[l]);var j=function(n){var e=n.currentTarget.id,t=l.find((function(n){return n.id==e}));o((function(n){return Object(c.a)(Object(c.a)({},n),{},{isModalOpen:!n.isModalOpen,targetImg:Object(c.a)({},t)})}))};return"idle"===u?Object(x.jsx)(T.DivContainer,{children:"Enter an image tag, please."}):"pending"===u?Object(x.jsx)(d.a,{type:"ThreeDots",color:"#777879",height:100,width:100,timeout:3e3}):"rejected"===u?Object(x.jsx)("h3",{children:g.message}):"resolved"===u?Object(x.jsxs)(T.GalleryContainer,{children:[Object(x.jsx)("ul",{className:"ImageGallery",children:l.map((function(n){return Object(x.jsx)(f,{imgUrl:n.webformatURL,imgAlt:n.tags,imgId:n.id,onClick:j})}))}),l.length>0&&Object(x.jsx)(S,{onClick:function(){var n=e;w.fetchGallery(n,m).then((function(n){return o((function(e){return Object(c.a)(Object(c.a)({},e),{},{images:[].concat(Object(p.a)(e.images),Object(p.a)(n.hits)),status:"resolved",page:e.page+1})}))}))}}),b&&Object(x.jsx)(M,{image:h,toggleModal:function(){o((function(n){return Object(c.a)(Object(c.a)({},n),{},{isModalOpen:!n.isModalOpen})}))}})]}):void 0},E=m.a.header(v||(v=Object(u.a)(["\n    .SearchForm {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin-left: auto;\n        margin-right: auto;\n        margin-bottom: 15px;\n        width: 100%;\n        height: 60px;\n        background-color: #6598db;\n        border-radius: 3px;\n        overflow: hidden;\n    }\n\n    .SearchForm-button {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        margin-left: 10px;\n        padding: 6px 14px;\n        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;\n        border-radius: 6px;\n        color: #3D3D3D;\n        background: #fff;\n        border: none;\n        box-shadow: 0px 0.5px 1px rgba(0, 0, 0, 0.1);\n\n        &:focus {\n            box-shadow: 0px 0.5px 1px rgba(0, 0, 0, 0.1), 0px 0px 0px 3.5px rgba(58, 108, 217, 0.5);\n            outline: 0;\n        }\n    }\n\n    .SearchForm-input {\n        display: inline-block;\n        width: 280px;\n        font: inherit;\n        font-size: 20px;\n        border: none;\n        border-radius: 6px;\n        outline: none;\n        padding-left: 4px;\n        padding-right: 4px;\n    }\n\n    .SearchForm-input::placeholder {\n        font: inherit;\n        font-size: 18px;\n    }\n"]))),G={imageTag:""},N=function(n){var e=n.onSubmit,t=Object(r.useState)(G),a=Object(s.a)(t,2),i=a[0],o=a[1];return Object(x.jsx)(E,{children:Object(x.jsxs)("form",{className:"SearchForm",onSubmit:function(n){n.preventDefault(),""!==i.imageTag.trim()?(e(i.imageTag),o({imageTag:""})):l.b.error("Enter an image tag, please.")},children:[Object(x.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"imageTag",value:i.imageTag,onChange:function(n){o({imageTag:n.currentTarget.value.toLowerCase()})}}),Object(x.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(x.jsx)("span",{className:"SearchForm-button-label",children:"Search"})})]})})},z={image:""},D=function(){var n=Object(r.useState)(z),e=Object(s.a)(n,2),t=e[0],a=e[1];return Object(x.jsxs)("main",{children:[Object(x.jsx)(l.a,{}),Object(x.jsx)(N,{onSubmit:function(n){a((function(e){return Object(c.a)(Object(c.a)({},e),{},{image:n})}))}}),Object(x.jsx)(I,{image:t.image})]})};t(49);o.a.render(Object(x.jsx)(D,{}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.62b81bce.chunk.js.map